<!DOCTYPE html> <html><head>
		<title>UI programming with Elmish in FSharp</title>
		<base href="../../../">
		<meta id="root-path" root-path="../../../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="韩暮秋的个人维基 - UI programming with Elmish in FSharp">
		<meta property="og:title" content="UI programming with Elmish in FSharp">
		<meta property="og:description" content="韩暮秋的个人维基 - UI programming with Elmish in FSharp">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://muqiuhan.github.io/wiki/computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html">
		<meta property="og:image" content="https://www.compositional-it.com/wp-content/uploads/2019/09/elmish-1.png">
		<meta property="og:site_name" content="韩暮秋的个人维基">
		<meta name="author" content="韩暮秋"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://muqiuhan.github.io/wiki/lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="lib/scripts/pixi.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="lib/scripts/minisearch.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-light show-inline-title show-ribbon outliner-plugin-dnd h2-underline"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="UI programming with Elmish in FSharp"><p dir="auto">UI programming with Elmish in FSharp</p></h1><div class="el-p"><p dir="auto"><a href="?query=tag:fsharp" class="tag" target="_blank" rel="noopener nofollow">#fsharp</a> <a href="?query=tag:fp" class="tag" target="_blank" rel="noopener nofollow">#fp</a> <a href="?query=tag:software-engineering" class="tag" target="_blank" rel="noopener nofollow">#software-engineering</a> </p></div><div class="el-h2 heading-wrapper"><h2 data-heading="Introduction&nbsp;介绍" dir="auto" class="heading" id="Introduction&nbsp;介绍"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Introduction&nbsp;介绍</h2><div class="heading-children"><div class="el-p"><p dir="auto">The "Model View Update" (MVU) architecture was made famous by the front-end programming language <a data-tooltip-position="top" aria-label="http://elm-lang.org/" rel="noopener nofollow" class="external-link" href="http://elm-lang.org/" target="_blank">Elm</a> and can be found in many popular environments like <a data-tooltip-position="top" aria-label="http://redux.js.org/" rel="noopener nofollow" class="external-link" href="http://redux.js.org/" target="_blank">Redux</a>. Today it's probably the most famous UI pattern in functional programming. The reason for this is that it clearly separates state changes from UI controls and provides a nice and easily testable way to create modular UIs. Especially for developers that are already familiar with concepts like CQRS or event sourcing many of the things in the MVU architecture will feel natural. Here's what the MVU pattern looks like:<br>
“模型视图更新”（MVU）架构因前端编程语言 Elm 而闻名，并且可以在 Redux 等许多流行环境中找到。如今，它可能是函数式编程中最著名的 UI 模式。原因是它清楚地将状态更改与 UI 控件分开，并提供了一种很好且易于测试的方法来创建模块化 UI。特别是对于已经熟悉 CQRS 或事件源等概念的开发人员来说，MVU 架构中的许多内容都会感觉很自然。 MVU 模式如下所示：</p></div><div class="el-p"><p dir="auto"><img src="https://www.compositional-it.com/wp-content/uploads/2019/09/elmish-1.png" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto"><strong>Elmish for F#</strong> is a project that provides the capability for client-side apps written in F# to follow the MVU architecture. It comes in multiple flavors, so that you can choose between a <a data-tooltip-position="top" aria-label="https://fable-elmish.github.io/react/" rel="noopener nofollow" class="external-link" href="https://fable-elmish.github.io/react/" target="_blank">React renderer</a> for HTML, <a data-tooltip-position="top" aria-label="https://fable-elmish.github.io/react/react-native.html" rel="noopener nofollow" class="external-link" href="https://fable-elmish.github.io/react/react-native.html" target="_blank">React Native renderer</a> for mobile apps and a <a data-tooltip-position="top" aria-label="https://github.com/Prolucid/Elmish.WPF" rel="noopener nofollow" class="external-link" href="https://github.com/Prolucid/Elmish.WPF" target="_blank">WPF renderer</a> for desktop applications. In this article we will explore its power and modularity by working through a simple example.<br>
Elmish for F# 是一个为用 F# 编写的客户端应用程序提供遵循 MVU 架构的功能的项目。它有多种风格，因此您可以在用于 HTML 的 React 渲染器、用于移动应用程序的 React Native 渲染器和用于桌面应用程序的 WPF 渲染器之间进行选择。在本文中，我们将通过一个简单的示例来探索它的强大功能和模块化性。</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="A simple counter&nbsp;一个简单的计数器" dir="auto" class="heading" id="A_simple_counter&nbsp;一个简单的计数器"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>A simple counter&nbsp;一个简单的计数器</h2><div class="heading-children"><div class="el-p"><p dir="auto">Let's start to illustrate Elmish and the MVU architecture with the very common HTML button counter sample. The following code shows a counter implemented in HTML and JavaScript.<br>
让我们开始用非常常见的 HTML 按钮计数器示例来说明 Elmish 和 MVU 架构。以下代码显示了用 HTML 和 JavaScript 实现的计数器。</p></div><div class="el-pre"><pre class="language-javascript" tabindex="0"><code data-line="0" class="language-javascript is-loaded"><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">"--counter; update();"</span><span class="token operator">&gt;</span><span class="token operator">-</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"counter"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">"++counter; update();"</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token keyword">var</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">"counter"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">textContent</span> <span class="token operator">=</span> <span class="token string">""</span> <span class="token operator">+</span> counter<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">The code is very straight forward and works as intended, but it has a number of issues:<br>
该代码非常简单并且按预期工作，但它有许多问题：</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">We are mutating the global variable <code>counter</code> - almost always a dangerous thing to do<br>
我们正在改变全局变量 <code>counter</code> - 几乎总是一件危险的事情</li>
<li data-line="2" dir="auto">We are directly mutating a DOM element, coupling our "business logic" to the UI.<br>
我们直接改变 DOM 元素，将我们的“业务逻辑”耦合到 UI。</li>
<li data-line="4" dir="auto">We are referencing the DOM element with its name via a string, which is fragile and can lead to costly knock-on effects.<br>
我们通过字符串引用 DOM 元素及其名称，这是脆弱的，可能会导致代价高昂的连锁反应。</li>
<li data-line="6" dir="auto">We've embedded some "domain logic" directly in the <code>onclick</code> event<br>
我们直接在 <code>onclick</code> 事件中嵌入了一些“领域逻辑”</li>
</ol></div><div class="el-p"><p dir="auto">These issues prevent us from using this in a modular way. For example, if we wanted to create a <em>list</em> with counters, we could not reuse this code. Instead, we could copy &amp; paste the code a couple of times to create a fixed number of counters, but even then we would need to be very careful that we fix all the references to the corresponding global variables. In the object-oriented world, there are number of patterns that allow you encapsulate this problem of shared mutable state - let's see how to do it in a manner that promotes some FP core practices using the three parts of the MVU pattern:<br>
这些问题阻止我们以模块化的方式使用它。例如，如果我们想创建一个带有计数器的列表，我们就不能重用这段代码。相反，我们可以复制并粘贴代码几次来创建固定数量的计数器，但即使如此，我们也需要非常小心地修复对相应全局变量的所有引用。在面向对象的世界中，有许多模式允许您封装共享可变状态的问题 - 让我们看看如何使用 MVU 模式的三个部分来促进一些 FP 核心实践：</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="Model&nbsp;模型" dir="auto" class="heading" id="Model&nbsp;模型"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Model&nbsp;模型</h3><div class="heading-children"><div class="el-p"><p dir="auto">Let's start with the <strong>Model</strong>.<br>
让我们从模型开始。</p></div><div class="el-pre"><pre class="language-fsharp" tabindex="0"><code data-line="0" class="language-fsharp is-loaded"><span class="token keyword">type</span> <span class="token class-name">Model</span> <span class="token operator">=</span> int

<span class="token keyword">type</span> <span class="token class-name">Msg</span> <span class="token operator">=</span>
<span class="token operator">|</span> Increment
<span class="token operator">|</span> Decrement

<span class="token keyword">let</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> Model <span class="token operator">=</span> <span class="token number">0</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">In this F# code we capture the current value of the counter in a <em>domain type</em> , before creating a <em>message type</em> which can signal that we want to increment or decrement the counter. We also implement an <code>init</code> function that allows us to create the initial model for our application.<br>
在此 F# 代码中，我们在创建消息类型之前捕获域类型中计数器的当前值，该消息类型可以表明我们想要递增或递减计数器。我们还实现了一个 <code>init</code> 函数，它允许我们为应用程序创建初始模型。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="View&nbsp;看法" dir="auto" class="heading" id="View&nbsp;看法"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>View&nbsp;看法</h3><div class="heading-children"><div class="el-p"><p dir="auto">The <strong>View</strong> part deals with the question of displaying controls on the screen. This is where we need to decide on a UI framework; in our case we've decided to stick with HTML, and so we will use the React renderer.<br>
View 部分处理在屏幕上显示控件的问题。这是我们需要决定 UI 框架的地方；在我们的例子中，我们决定坚持使用 HTML，因此我们将使用 React 渲染器。</p></div><div class="el-pre"><pre class="language-fsharp" tabindex="0"><code data-line="0" class="language-fsharp is-loaded"><span class="token keyword">let</span> view model dispatch <span class="token operator">=</span>
    div <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span> button <span class="token punctuation">[</span> OnClick <span class="token punctuation">(</span><span class="token keyword">fun</span> _ <span class="token operator">-&gt;</span> dispatch Decrement<span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token string">"-"</span> <span class="token punctuation">]</span>
          div <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> model<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
          button <span class="token punctuation">[</span> OnClick <span class="token punctuation">(</span><span class="token keyword">fun</span> _ <span class="token operator">-&gt;</span> dispatch Increment<span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token string">"+"</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">This is <em>valid F# code</em> that uses the excellent <a data-tooltip-position="top" aria-label="https://github.com/fable-compiler/fable-react" rel="noopener nofollow" class="external-link" href="https://github.com/fable-compiler/fable-react" target="_blank">Fable.React bindings</a> to convert from F# into React JS. The syntax is still similar to our HTML version from the beginning, but instead of <code>&lt;</code> and <code>&gt;</code>, we are using <code>[</code> and <code>]</code>. This syntax is easy to learn and IDE tools like <a data-tooltip-position="top" aria-label="http://ionide.io/" rel="noopener nofollow" class="external-link" href="http://ionide.io/" target="_blank">Ionide</a> provide code completion for it, so it's a natural fit for existing F# developers. An important observation is that we are no longer mutating state from within the <code>OnClick</code> handlers; instead we simply <em>dispatch</em> one of the earlier defined messages into the system. This decouples our model from the view.<br>
这是有效的 F# 代码，它使用出色的 Fable.React 绑定从 F# 转换为 React JS。语法从一开始仍然与我们的 HTML 版本类似，但我们使用 <code>[</code> 和 <code>]</code> 代替 <code>&lt;</code> 和 <code>&gt;</code> 。 。这种语法很容易学习，并且 Ionide 等 IDE 工具为其提供了代码补全，因此它非常适合现有的 F# 开发人员。一个重要的观察结果是，我们不再从 <code>OnClick</code> 处理程序内部改变状态；相反，我们只是将先前定义的消息之一发送到系统中。这将我们的模型与视图分离。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Update&nbsp;更新" dir="auto" class="heading" id="Update&nbsp;更新"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Update&nbsp;更新</h3><div class="heading-children"><div class="el-p"><p dir="auto">In the <strong>Update</strong> part, we define a state machine that represents our domain logic (or at least hooks into it).<br>
在更新部分，我们定义一个状态机来表示我们的域逻辑（或至少挂钩它）。</p></div><div class="el-pre"><pre class="language-fsharp" tabindex="0"><code data-line="0" class="language-fsharp is-loaded"><span class="token keyword">let</span> update <span class="token punctuation">(</span>msg<span class="token punctuation">:</span><span class="token class-name">Msg</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>model<span class="token punctuation">:</span><span class="token class-name">Model</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> Model <span class="token operator">=</span>
    <span class="token keyword">match</span> msg <span class="token keyword">with</span>
    <span class="token operator">|</span> Increment <span class="token operator">-&gt;</span> model <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token operator">|</span> Decrement <span class="token operator">-&gt;</span> model <span class="token operator">-</span> <span class="token number">1</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Here, we have defined an <code>update</code> function that will be called by Elmish <em>whenever a message is received</em>. In this very basic scenario there are only two cases to handle, and we can't really see the power of F#'s pattern matching yet. The most interesting observation is that we don't rely on <em>any mutable state</em>. Instead the update function takes a message and the <em>current</em> model, and returns a completely <em>new version</em> of the model. Since all the data is simply inside the model, this is very well testable - we can easily write a set of unit tests around the update function.<br>
在这里，我们定义了一个 <code>update</code> 函数，每当收到消息时 Elmish 都会调用该函数。在这个非常基本的场景中，只有两种情况需要处理，而且我们还不能真正看到 F# 模式匹配的强大功能。最有趣的观察是我们不依赖任何可变状态。相反，更新函数接受消息和当前模型，并返回模型的全新版本。由于所有数据都位于模型内部，因此非常容易测试 - 我们可以轻松地围绕更新函数编写一组单元测试。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="The glue&nbsp;胶水" dir="auto" class="heading" id="The_glue&nbsp;胶水"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>The glue&nbsp;胶水</h3><div class="heading-children"><div class="el-p"><p dir="auto">So far, we've not used any functionality from Elmish at all. The <strong>Model</strong> and <strong>Update</strong> parts are pure F# code, whilst the <strong>View</strong> part uses the <a data-tooltip-position="top" aria-label="https://github.com/fable-compiler/fable-react" rel="noopener nofollow" class="external-link" href="https://github.com/fable-compiler/fable-react" target="_blank">Fable.React</a> package. At this point all three parts are completely independent from each other - now Elmish will "wire" these up into an application:<br>
到目前为止，我们还没有使用 Elmish 的任何功能。模型和更新部分是纯 F# 代码，而视图部分使用 Fable.React 包。此时，所有三个部分完全相互独立 - 现在 Elmish 将把它们“连接”到一个应用程序中：</p></div><div class="el-pre"><pre class="language-fsharp" tabindex="0"><code data-line="0" class="language-fsharp is-loaded">Program<span class="token punctuation">.</span>mkSimple Counter<span class="token punctuation">.</span>init Counter<span class="token punctuation">.</span>update Counter<span class="token punctuation">.</span>view
<span class="token operator">|&gt;</span> Program<span class="token punctuation">.</span>withConsoleTrace
<span class="token operator">|&gt;</span> Program<span class="token punctuation">.</span>withDebugger
<span class="token operator">|&gt;</span> Program<span class="token punctuation">.</span>withReact <span class="token string">"counter-app"</span>
<span class="token operator">|&gt;</span> Program<span class="token punctuation">.</span>run
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Elmish's <a data-tooltip-position="top" aria-label="https://fable-elmish.github.io/elmish/program.html" rel="noopener nofollow" class="external-link" href="https://fable-elmish.github.io/elmish/program.html" target="_blank">Program</a> abstraction provides "glue" functions like <code>mkSimple</code> to bind the three parts together into an application. Internally, Elmish gives us a message loop and takes care of dispatching messages between the view and the update function. Since the complete state is captured in the model and every state change is explicit by processing a message, this opens a whole new world of debugging features like <a data-tooltip-position="top" aria-label="https://fable-elmish.github.io/debugger/" rel="noopener nofollow" class="external-link" href="https://fable-elmish.github.io/debugger/" target="_blank">time travelling</a>.<br>
Elmish 的程序抽象提供了“粘合”函数，例如 <code>mkSimple</code> 将这三个部分绑定到一个应用程序中。在内部，Elmish 为我们提供了一个消息循环，并负责在视图和更新函数之间调度消息。由于模型中捕获了完整的状态，并且通过处理消息来明确每个状态更改，因此这打开了时间旅行等调试功能的全新世界。</p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Parent-child composition" dir="auto" class="heading" id="Parent-child_composition"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Parent-child composition</h2><div class="heading-children"><div class="el-p"><p dir="auto">亲子作文</p></div><div class="el-p"><p dir="auto">In the last section we saw how to build a very basic sample app in the MVU architecture. For this minimal example it's not very clear what the benefit is compared to the original implementation that was using mutation. So, in the following example we'll use the counter as a <em>module</em> and create a <em>list of counters</em>.<br>
在上一节中，我们了解了如何在 MVU 架构中构建一个非常基本的示例应用程序。对于这个最小的示例，与使用突变的原始实现相比，并不清楚有什么好处。因此，在下面的示例中，我们将使用计数器作为模块并创建计数器列表。</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="Composed Models&nbsp;组合模型" dir="auto" class="heading" id="Composed_Models&nbsp;组合模型"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Composed Models&nbsp;组合模型</h3><div class="heading-children"><div class="el-p"><p dir="auto">As before let's start with the model:<br>
和之前一样，让我们​​从模型开始：</p></div><div class="el-pre"><pre class="language-fsharp" tabindex="0"><code data-line="0" class="language-fsharp is-loaded"><span class="token keyword">module</span> CounterList
<span class="token keyword">type</span> <span class="token class-name">Model</span> <span class="token operator">=</span> Counter<span class="token punctuation">.</span>Model list

<span class="token keyword">type</span> <span class="token class-name">Msg</span> <span class="token operator">=</span> 
<span class="token operator">|</span> Insert
<span class="token operator">|</span> Remove
<span class="token operator">|</span> Modify <span class="token keyword">of</span> <span class="token class-name">int <span class="token operator">*</span> Counter<span class="token punctuation">.</span>Msg</span>

<span class="token keyword">let</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> Model <span class="token operator">=</span>
    <span class="token punctuation">[</span> Counter<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">In this case we have a <em>list</em> of counter models and a new message type. We can signal to:<br>
在本例中，我们有一个计数器模型列表和一个新消息类型。我们可以向以下人员发出信号：</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">Insert a new counter<br>
插入新计数器</li>
<li data-line="2" dir="auto">Remove the latest counter<br>
删除最新的计数器</li>
<li data-line="4" dir="auto">Dispatch a counter message to the corresponding counter in the list.<br>
向列表中相应的计数器发送计数器消息。</li>
</ul></div><div class="el-p"><p dir="auto">When the application starts we will start with one counter as provided by the <code>init</code> function. As you can see, every part of the model refers to the corresponding part of the submodel. <code>CounterList.Model</code> is a collection of <code>Counter.Model</code>, the <code>CounterList.Msg</code> uses the <code>Counter.Msg</code> as payload and the <code>CounterList.init</code> function calls the <code>Counter.init</code> function.<br>
当应用程序启动时，我们将从 <code>init</code> 函数提供的一个计数器开始。正如您所看到的，模型的每个部分都引用子模型的相应部分。 <code>CounterList.Model</code> 是 <code>Counter.Model</code> 的集合， <code>CounterList.Msg</code> 使用 <code>Counter.Msg</code> 作为负载， <code>CounterList.init</code> 函数调用 <code>Counter.init</code> 函数。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Composed Views&nbsp;组合视图" dir="auto" class="heading" id="Composed_Views&nbsp;组合视图"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Composed Views&nbsp;组合视图</h3><div class="heading-children"><div class="el-p"><p dir="auto">Let's take a look at the <code>View</code> code:<br>
我们看一下 <code>View</code> 代码：</p></div><div class="el-pre"><pre class="language-fsharp" tabindex="0"><code data-line="0" class="language-fsharp is-loaded"><span class="token keyword">let</span> view model dispatch <span class="token operator">=</span>
    <span class="token keyword">let</span> counters <span class="token operator">=</span>
        model
        <span class="token operator">|&gt;</span> List<span class="token punctuation">.</span>mapi <span class="token punctuation">(</span><span class="token keyword">fun</span> pos counterModel <span class="token operator">-&gt;</span> 
            Counter<span class="token punctuation">.</span>view
                counterModel
                <span class="token punctuation">(</span><span class="token keyword">fun</span> msg <span class="token operator">-&gt;</span> dispatch <span class="token punctuation">(</span>Modify <span class="token punctuation">(</span>pos<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 

    div <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> 
        <span class="token keyword">yield</span> button <span class="token punctuation">[</span> OnClick <span class="token punctuation">(</span><span class="token keyword">fun</span> _ <span class="token operator">-&gt;</span> dispatch Remove<span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token string">"Remove"</span> <span class="token punctuation">]</span>
        <span class="token keyword">yield</span> button <span class="token punctuation">[</span> OnClick <span class="token punctuation">(</span><span class="token keyword">fun</span> _ <span class="token operator">-&gt;</span> dispatch Insert<span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token string">"Add"</span> <span class="token punctuation">]</span>
        <span class="token keyword">yield!</span> counters <span class="token punctuation">]</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">It's not that much different to the view code of the counter itself, except now we render a list of counters and wrap the messages with position information. This code may look a bit unfamiliar at this point, but the F# compiler is helping us here. There is only one way to get it to compile - and that's the correct way! Once you've done this step a few times, it becomes second nature - just like any task that you become familiar with.<br>
它与计数器本身的视图代码没有太大区别，只是现在我们渲染计数器列表并用位置信息包装消息。这段代码此时看起来可能有点陌生，但 F# 编译器在这里为我们提供了帮助。只有一种方法可以编译它 - 这就是正确的方法！一旦您完成此步骤几次，它就会成为第二天性 - 就像您熟悉的任何任务一样。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Composed Updates&nbsp;组合更新" dir="auto" class="heading" id="Composed_Updates&nbsp;组合更新"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Composed Updates&nbsp;组合更新</h3><div class="heading-children"><div class="el-p"><p dir="auto">As with the Model, we also see a nice symmetry in the Views. But what about the <strong>Update</strong> part?<br>
与模型一样，我们在视图中也看到了很好的对称性。但是更新部分呢？</p></div><div class="el-pre"><pre class="language-fsharp" tabindex="0"><code data-line="0" class="language-fsharp is-loaded"><span class="token keyword">let</span> update <span class="token punctuation">(</span>msg<span class="token punctuation">:</span><span class="token class-name">Msg</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>model<span class="token punctuation">:</span><span class="token class-name">Model</span><span class="token punctuation">)</span> <span class="token operator">=</span>
    <span class="token keyword">match</span> msg <span class="token keyword">with</span>
    <span class="token operator">|</span> Insert <span class="token operator">-&gt;</span>
        Counter<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">::</span> model <span class="token comment">// append to list</span>
    <span class="token operator">|</span> Remove <span class="token operator">-&gt;</span>
        <span class="token keyword">match</span> model <span class="token keyword">with</span>
        <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>              <span class="token comment">// list is already empty</span>
        <span class="token operator">|</span> x <span class="token operator">::</span> rest <span class="token operator">-&gt;</span> rest     <span class="token comment">// remove from list</span>
    <span class="token operator">|</span> Modify <span class="token punctuation">(</span>pos<span class="token punctuation">,</span> counterMsg<span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
        model
        <span class="token operator">|&gt;</span> List<span class="token punctuation">.</span>mapi <span class="token punctuation">(</span><span class="token keyword">fun</span> i counterModel <span class="token operator">-&gt;</span>
            <span class="token keyword">if</span> i <span class="token operator">=</span> pos <span class="token keyword">then</span>
                Counter<span class="token punctuation">.</span>update counterMsg counterModel
            <span class="token keyword">else</span>
                counterModel<span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Now this may come as no surprise, but we have the same situation here: <code>CounterList.update</code> forwards to <code>Counter.update</code> of the corresponding counter! We end up with something really beautiful, since now we have a <code>CounterList</code> component which exposes exactly the same elements as the <code>Counter</code> itself, namely <strong>Model</strong>, <strong>View</strong> and <strong>Update</strong>. This allows us to use the <code>CounterList</code> itself as a component!<br>
现在这可能并不奇怪，但我们这里有同样的情况： <code>CounterList.update</code> 转发到相应计数器的 <code>Counter.update</code> ！我们最终得到了一些非常漂亮的东西，因为现在我们有一个 <code>CounterList</code> 组件，它公开了与 <code>Counter</code> 本身完全相同的元素，即模型、视图和更新。这允许我们使用 <code>CounterList</code> 本身作为组件！</p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="F# - a great fit for the MVU architecture" dir="auto" class="heading" id="F#_-_a_great_fit_for_the_MVU_architecture"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>F# - a great fit for the MVU architecture</h2><div class="heading-children"><div class="el-p"><p dir="auto">F# - 非常适合 MVU 架构</p></div><div class="el-p"><p dir="auto">The MVU architecture was made famous by the Elm language, but can be used in many languages, even in vanilla <a data-tooltip-position="top" aria-label="https://github.com/ccorcos/elmish" rel="noopener nofollow" class="external-link" href="https://github.com/ccorcos/elmish" target="_blank">JavaScript</a>. F# - like Elm - is a language in the ML family of programming language, and provides features such as pattern matching that are extremely powerful and particularly useful for modelling state machines. In conjunction with F# features such as <a data-tooltip-position="top" aria-label="https://fsharpforfunandprofit.com/posts/discriminated-unions/" rel="noopener nofollow" class="external-link" href="https://fsharpforfunandprofit.com/posts/discriminated-unions/" target="_blank">Discriminated Unions</a>, this allows us to create applications in a type-safe manner that cater for all possibilities. The compiler provides us with guidance when corner cases are not dealt with, leading to quicker development time, whilst allowing F# developers to rapidly create UIs in a typesafe manner. The larger and more complex an application becomes, the greater the benefit; the F# compiler (like the Elm compiler) emits warnings for us when we forget to handle all possibilites - even for more complicated patterns - meaning less time spent debugging or writing unit tests, and more time delivering business value.<br>
MVU 架构因 Elm 语言而闻名，但可以在多种语言中使用，甚至可以在普通 JavaScript 中使用。 F# 与 Elm 一样，是 ML 编程语言系列中的一种语言，提供模式匹配等功能，这些功能非常强大，对于状态机建模特别有用。与受歧视联合等 F# 功能相结合，这使我们能够以类型安全的方式创建应用程序，以满足所有可能性。当未处理极端情况时，编译器为我们提供指导，从而缩短开发时间，同时允许 F# 开发人员以类型安全的方式快速创建 UI。应用程序变得越大、越复杂，好处就越大；当我们忘记处理所有可能性时（即使是更复杂的模式），F# 编译器（如 Elm 编译器）会向我们发出警告，这意味着花在调试或编写单元测试上的时间更少，而有更多时间提供业务价值。</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="More Information&nbsp;更多信息" dir="auto" class="heading" id="More_Information&nbsp;更多信息"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>More Information&nbsp;更多信息</h2><div class="heading-children"><div class="el-p"><p dir="auto">For more information about Elmish and the MVU architecture please see the following resources:<br>
有关 Elmish 和 MVU 架构的更多信息，请参阅以下资源：</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">"Modern app development with Fable and React Native" from NDC Oslo 2017 - <a data-tooltip-position="top" aria-label="https://www.youtube.com/watch?v=fmaPeUBWZuM" rel="noopener nofollow" class="external-link" href="https://www.youtube.com/watch?v=fmaPeUBWZuM" target="_blank">Video</a><br>
“使用 Fable 和 React Native 进行现代应用程序开发”来自 NDC Oslo 2017 - 视频</li>
<li data-line="2" dir="auto">"The Elm Architecture" in the <a data-tooltip-position="top" aria-label="https://guide.elm-lang.org/architecture/" rel="noopener nofollow" class="external-link" href="https://guide.elm-lang.org/architecture/" target="_blank">elm docs</a><br>
elm 文档中的“Elm 架构”</li>
<li data-line="4" dir="auto">Elmish for F# <a data-tooltip-position="top" aria-label="https://fable-elmish.github.io/" rel="noopener nofollow" class="external-link" href="https://fable-elmish.github.io/" target="_blank">docs</a>&nbsp;F# 文档的 Elmish</li>
<li data-line="5" dir="auto"><a data-tooltip-position="top" aria-label="https://github.com/ccorcos/elmish" rel="noopener nofollow" class="external-link" href="https://github.com/ccorcos/elmish" target="_blank">Elmish for vanilla JavaScript<br>
用于原生 JavaScript 的 Elmish</a></li>
<li data-line="7" dir="auto">Fable compiler <a data-tooltip-position="top" aria-label="http://fable.io/" rel="noopener nofollow" class="external-link" href="http://fable.io/" target="_blank">docs</a>&nbsp;Fable 编译器文档</li>
</ul></div><div class="mod-footer mod-ui"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#UI programming with Elmish in FSharp"><div class="tree-item-contents heading-link" heading-name="UI programming with Elmish in FSharp"><span class="tree-item-title">UI programming with Elmish in FSharp</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#Introduction&nbsp;介绍"><div class="tree-item-contents heading-link" heading-name="Introduction&nbsp;介绍"><span class="tree-item-title">Introduction&nbsp;介绍</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#A_simple_counter&nbsp;一个简单的计数器"><div class="tree-item-contents heading-link" heading-name="A simple counter&nbsp;一个简单的计数器"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">A simple counter&nbsp;一个简单的计数器</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#Model&nbsp;模型"><div class="tree-item-contents heading-link" heading-name="Model&nbsp;模型"><span class="tree-item-title">Model&nbsp;模型</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#View&nbsp;看法"><div class="tree-item-contents heading-link" heading-name="View&nbsp;看法"><span class="tree-item-title">View&nbsp;看法</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#Update&nbsp;更新"><div class="tree-item-contents heading-link" heading-name="Update&nbsp;更新"><span class="tree-item-title">Update&nbsp;更新</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#The_glue&nbsp;胶水"><div class="tree-item-contents heading-link" heading-name="The glue&nbsp;胶水"><span class="tree-item-title">The glue&nbsp;胶水</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#Parent-child_composition"><div class="tree-item-contents heading-link" heading-name="Parent-child composition"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Parent-child composition</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#Composed_Models&nbsp;组合模型"><div class="tree-item-contents heading-link" heading-name="Composed Models&nbsp;组合模型"><span class="tree-item-title">Composed Models&nbsp;组合模型</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#Composed_Views&nbsp;组合视图"><div class="tree-item-contents heading-link" heading-name="Composed Views&nbsp;组合视图"><span class="tree-item-title">Composed Views&nbsp;组合视图</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#Composed_Updates&nbsp;组合更新"><div class="tree-item-contents heading-link" heading-name="Composed Updates&nbsp;组合更新"><span class="tree-item-title">Composed Updates&nbsp;组合更新</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#F#_-_a_great_fit_for_the_MVU_architecture"><div class="tree-item-contents heading-link" heading-name="F# - a great fit for the MVU architecture"><span class="tree-item-title">F# - a great fit for the MVU architecture</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="computer-science/programming-language/fsharp/ui-programming-with-elmish-in-fsharp.html#More_Information&nbsp;更多信息"><div class="tree-item-contents heading-link" heading-name="More Information&nbsp;更多信息"><span class="tree-item-title">More Information&nbsp;更多信息</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>